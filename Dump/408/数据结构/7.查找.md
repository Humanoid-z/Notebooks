<img src="https://raw.githubusercontent.com/SNIKCHS/MDImage/main/img/image-20210822151820864.png" alt="image-20210822151820864" style="zoom:50%;" />

## 折半查找

要求元素按关键字有序排列。

O(log~2~n)

关键字和上下界中间位置的元素比较，若相等则命中，若小于则将high=mid-1，在左半部分继续找；若大于则将low=mid+1，在右半部分继续找

## 分块查找

将查找表分为若干块，块内无序，块间有序，建立索引表，索引表可以用折半查找，块内顺序查找

## B树

B树又称多路平衡查找树，一个M阶B树非根非叶节点至少含有ceil(m/2)-1个关键字(下界是为了最大限度降低层高，提高搜索效率。B树是针对外存储器设计的多路查找结构)，每个节点最多有M-1个关键字，并且以升序排列。有关键字个数+1个子树，分布在每个关键字的两边，子树存放着大于左边关键字又小于右边关键字的关键字。如果找到叶节点就是查找失败了。



满足如下特性

1. 树中每个结点至多有m棵子树，即至多含有m-1个关键字。

2. 若根结点不是终端结点,则至少有两棵子树。

3. 除根结点外的所有非叶结点至少有ceil(m/2)棵子树，即至少含有ceil(m/2)个关键字。

4. 所有非叶结点的结构如下:

   <img src="https://raw.githubusercontent.com/SNIKCHS/MDImage/main/img/image-20210822154304303.png" alt="image-20210822154304303" style="zoom:50%;" />

   其中，K~i~(i=1,2,…,n)为结点的关键字，且满足K~1~<K~2~<…<K~n~; P~i~ (i=0,1,…,n)为指向子树根结点的指针，且指针P~i~所指子树中所有结点的关键字均小于K~i~,P~i~所指子树中所有结点的关键字均大于K~i~,n(ceil(m/2)-1≤n≤m-1)为结点中关键字的个数。

5. 所有的叶结点都出现在同一层次上，并且不带信息，相当于查找失败

B树是所有结点的平衡因子均等于0的多路平衡查找树。

### B树查找

与二叉查找树相似

①在B树中找结点②在结点内找关键字。由于B树常存储在磁盘上，因此前一个查找操作是在磁盘上进行的，而后一个查找操作是在内存中进行的，即在找到目标结点后，先将结点信息读入内存，然后在结点内采用顺序查找法或折半查找法。

查找到某个结点后，先在有序表中进行查找，若找到则查找成功，否则按照对应的指针信息到所指的子树中去查找

### B树的插入

定位。利用前述的B树查找算法，找出插入该关键字的最低层中的某个非叶结点

插入。在B树中，每个非失败结点的关键字个数都在区间[ceil(m/2),m-1]内。插入后结点关键字个数小于m，可以直接插入;大于m-1时,必须对结点进行分裂。

## B+树

B树非叶节点的子树个数和关键字个数相等（b树是n-1个），这些关键字不保存数据，只用来索引，所有数据都保存在叶子节点（b树是每个关键字都保存数据）。所有的叶子结点中包含了全部关键字的信息，及指向含这些关键字记录的指针，且叶结点本身按大小排序组成一个链表）。无论查找是否成功，每次都是一条从根节点到叶节点的路径。

## B树的优点

B树的每一个节点都包含key和value，因此经常访问的元素可能离根节点更近，因此**访问也更迅速**。

## B+树的优点

（1）所有的叶子结点使用链表相连，便于区间查找和遍历。B树则需要进行每一层的递归遍历。相邻的元素可能在内存中不相邻，所以缓存命中性没有B+树好。

（2）B+树的中间节点不保存数据，能容纳更多节点元素。





一棵m阶的B+树需满足下列条件:

1. 每个分支结点最多有m棵子树(孩子结点)。
2. 非叶根结点至少有两棵子树，其他每个分支结点至少有ceil(m/2)棵子树。
3. 结点的子树个数与关键字个数相等。
4. 所有叶结点包含全部关键字及指向相应记录的指针，叶结点中将关键字按大小顺序排列,并且相邻叶结点按大小顺序相互链接起来。
5. 所有分支结点（可视为索引的索引）中仅包含它的各个子结点（即下一级的索引块)中关键字的最大值及指向其子结点的指针

m阶的B+树与m阶的B树的主要差异如下:

1. 在B+树中，具有n个关键字的结点只含有n棵子树，即每个关键字对应一棵子树;而在B树中,具有n个关键字的结点含有n+1棵子树。
2. 在B+树中，每个结点(非根内部结点）的关键字个数n的范围是ceil(m/2)≤n≤m(根结点:1≤n≤m)；在B树中，每个结点(非根内部结点)的关键字个数n 的范围是ceil(m/2)-1≤n≤m-1(根结点:1≤n≤m-1).
3. 在**B+树中，叶结点包含信息，所有非叶结点仅起索引作用**，非叶结点中的每个索引项只含有对应子树的最大关键字和指向该子树的指针，不含有该关键字对应记录的存储地址。
4. 在B+树中，叶结点包含了全部关键字，即在非叶结点中出现的关键字也会出现在叶结点中:而在B树中，叶结点（最外层内部结点）包含的关键字和其他结点包含的关键字是不重复的。

在 B+树中查找时，无论查找成功与否，每次查找都是一条从根结点到叶结点的路径。

# 散列表

散列表:根据关键字而直接进行访问的数据结构。散列表建立了关键字和存储地址之间的一种真接映射关系。

## 散列函数

除留余数法

mod p

## 处理冲突

1. 开放定址法

   规则有线性探测法，平方探测法(避免堆积)

2. 拉链法(线性链表存)

装填因子=记录数/表长