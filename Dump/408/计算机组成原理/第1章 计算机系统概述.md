# 考纲

<img src="https://raw.githubusercontent.com/SNIKCHS/MDImage/main/img/20210607152700.png" style="zoom: 50%;" />

# 1.1计算机系统层次结构

## 1.1.1 计算机系统的组成

计算机系统包括硬件系统和软件系统。

## 1.1.2计算机硬件的基本组成

1.冯诺依曼机

特点:

1）计算机硬件系统由运算器、存储器、控制器、输入设备和"出设备5大部件组成。

2）指令和数据以同等地位存储在存储器中，并可按地址寻访。

3）指令和数据均用二进制代码表示。

4）指令由操作码和地址码组成，操作码指出操作的类型，地址码指出操作数的地址。

5）指令在存储器内按顺序存放。通常，指令是顺序执行的，在特定条件下可根据运算结果或根据设定的条件改变执行顾序。

6）早期的冯·诺依曼机以运算器为中心，输入/输出设备通过运算器与存储器传送数据。

 

2.计算机的功能部件

(1)输入设备

(2)输出设备

(3)存储器

存储器分为主存储器（简称主存，也称内存储器）和辅助存储器（简称辅存，也称外存储器)。CPU 能够直接访问的存储器是主存储器。辅助存储器用于帮助主存储器记忆更多的信息，辅助存储器中的信息必须调入主存后，才能为CPU 所访问。

主存储器的工作方式是按存储单元的地址进行存取，这种存取方式称为按地址存取方式

存储器的最基本组成如图所示。存储体存放二进制信息，地址寄存器（MAR）存放访存地址，经过地址译码后找到所选的存储单元。数据寄存器（MDR)用于哲存要从存储器中读或写的信息，时序控制逻辑用于产生存储器操作所需的各种时序信号。

<img src="https://raw.githubusercontent.com/SNIKCHS/MDImage/main/img/20210607160642.png" alt="image-20210607160642384" style="zoom:50%;" />

主存储器由许多存储单元组成，每个存储单元包含若干存储元件,每个存储元件存储一位二进制代码“0”或“1”。因此存储单元可存储一串二进制代码，称这串代码为存储字，称这串代码的位数为存储字长，存储字长可以是1B (8bit)或是字节的偶数倍。

MAR 用于寻址，其位数对应着存储单元的个数，如MAR为10位，则有2 10 = 1024个存储单元,记为1K。MAR的长度与PC的长度相等。

MDR的位数和存储字长相等，一般为字节的二次幂的整数倍。

注意:MAR 与 MDR虽然是存储器的-一部分，但在现代CPU中却是存在于CPU 中的

(4)运算器

运算器是计算机的执行部件,用于进行算术运算和逻辑运算。

运算器的核心是算术逻辑单元（Arithmetic and Logical Unit，ALU)。运算器包含若干通用寄存器，用于暂存操作数和中间结果，如累加器（ACC)、乘商寄存器(MQ)、操作数寄存器(X)、变址寄存器（IX)、基址寄存器（BR）等，其中前3个寄存器是必须具备的。

运算器内还有程序状态寄存器（PSW)，也称标志寄存器，用于存放ALU运算得到的一些标志信息或处理机的状态信息，如结果是否溢出、有无产生进位或借位、结果是否为负等。

(5)控制器

控制器由程序计数器（PC)、指令寄存器（R）和控制单元（CU)组成。

PC用来存放当前欲执行指令的地址，可以目动加1以形成下一条指令的地址，它与主存的MAR之间有一条直接通路。

IR用来存放当前的指令，其内容来自主存的MDR。指令中的操作码OP(IR)送至CU，用以分析指令并发出各种微操作命令序列;而地址码Ad(IR)送往MAR，用以取操作数。

一般将运算器和控制器集成到同一个芯片上，称为中央处理器（CPU)。CPU和主存储器共同构成主机，而除主机外的其他硬件装置（外存、I/O设备等）统称为外部设备，简称外设。

下图所示为冯·诺依曼结构的模型机。CPU 包含 ALU、通用寄存器组 GPRs、标志寄存器、控制器、指令寄存器IR、程序计数器PC、存储器地址寄存器 MAR和存储器数据寄存器MDR。图中从控制器送出的虚线就是控制信号，可以控制如何修改 PC 以得到下一条指令的地址，可以控制ALU执行什么运算，可以控制主存是进行读操作还是写操作(读/写控制信号),

<img src="https://raw.githubusercontent.com/SNIKCHS/MDImage/main/img/20210607160831.png" alt="image-20210607160831475" style="zoom:50%;" />

CPU和主存之间通过一组总线相连，总线中有地址、控制和数据3组信号线。MAR 中的地址信息会直接送到地址线上，用于指向读/写操作的主存存储单元;控制线中有读/写信号线，输出数据是从CPU 写入主存还是从主存读出到CPU，根据是读操作还是写操作来控制将MDR 中的数据是直接送到数据线上还是将数据线上的数据接收到MDR 中。

## 1.1.3计算机软件分类

1.系统软件和应用软件

2.三个级别的语言

1)机器语言。又称二进制代码语言。机器语言是计算机唯一可以直接识别和执行的语言。

2）汇编语言。汇编语言用英文单词或其缩写代替二进制的指令代码，更容易为人们记忆和理解。使用汇编语言编辑的程序，必须经过一个称为汇编程序的系统软件的翻译，将其转换为计算机的机器语言后，才能在计算机的硬件系统上执行。

3）高级语言。通常高级语言需要经过编译程序编译成汇编语言程序，然后经过汇编操作得到机器语言程序,或直接由高级语言程序翻译成机器语言程序。

## 1.1.4 计算机的工作过程

计算机的工作过程分为以下三个步骤:

1)把程序和数据装入主存储器。

2)将源程序转换成可执行文件。

3)从可执行文件的首地址开始逐条执行指令。

1.从源程序到可执行文件

在计算机中编写的C语言程序，都必须被转换为一系列的低级机器指令，这些指令按照一种称为可执行目标文件的格式打好包，并以二进制磁盘文件的形式存放起来。

以UNIX系统中的 GCC编译器程序为例，读取源程序文件hello.c，并把它翻译成一个可执行目标文件 hello，整个翻译过程可分为4个阶段完成，如图1.5所示。

<img src="https://raw.githubusercontent.com/SNIKCHS/MDImage/main/img/20210607160935.png" style="zoom:50%;" />

1）预处理阶段:预处理器（cpp）对源程序中以字符#开头的命令进行处理，例如将#include命令后面的.h文件内容插入程序文件。输出结果是一个以.i为扩展名的源文件hello.i。

2）编译阶段:编译器（ccl）对预处理后的源程序进行编译，生成一个汇编语言源程序hello.s。汇编语言源程序中的每条语句都以一种文本格式描述了一条低级机器语言指令。

3）汇编阶段:汇编器(as）将hello.s 翻译成机器语言指令，把这些指令打包成一个称为可重定位目标文件的 hello.o，它是一种二进制文件，因此在文本编辑器中打开它时会显示乱码。

4）链接阶段:链接器（ld）将多个可重定位目标文件和标准库函数合并为一个可执行目标文件，或简称可执行文件。本例中，链接器将hello.o和标准库函数printf 所在的可重定位目标模块printf.o合并，生成可执行文件hello。最终生成的可执行文件被保存在磁盘上。

## 习题

1. D

2. A?

   早期的冯·诺依曼机以运算器为中心，且是单处理机，B是多处理机。冯·诺依曼机最根本的特征是采用“存储程序”原理，基本工作方式是控制流驱动方式。

3. B

4. B×C

   虽然指令和数据都以二进制形式存放在存储器中，但CPU可以根据指令周期的不同阶段来区分是指令还是数据，通常在取指阶段取出的是指令，在执行阶段取出的是数据。本题容易误选A，需要清楚的是，CPU 只有在确定取出的是指令后，才会将其操作码送去译码，因此不可能依据译码的结果来区分指令和数据。

5. A×D

   软件和硬件具有逻辑上的等效性，硬件实现具有更高的执行速度，软件实现具有更好的灵活性。执行频繁、硬件实现代价不是很高的功能通常由硬件实现。因此选D.

6. D

7. A

8. D×C

   地址译码器是主存的构成部分，不属于CPU。地址寄存器虽然一般属于主存，但现代计算机中绝大多数CPU内集成了地址寄存器。

9. A

10. D

11. D?×C

    寄存器在CPU内部，速度最快。Cache采用高速的 SRAM 制作，而内存常用DRAM 制作，其速度较Cache慢。本题也可根据存储器层次结构的速度关系得出答案。

12. C

13. B

14. A?×D

    操作系统属于大型系统软件:编译程序属于语言处理程序;连接程序属于服务性程序，因此选D。

15. C

16. A×C

    翻译程序是指把高级语言源程序转换成机器语言程序（目标代码）的软件。翻译程序有两种:一种是编译程序，它将高级语言源程序一次全部翻译成目标程序，每次执行程序时，只需执行目标程序，因此只要源程序不变，就无须重新编译。另一种是解释程序，它将源程序的-条语句翻译成对应的机器目标代码，并立即执行，然后翻译下一条源程序语句并执行，直至所有源程序语句全部被翻译并执行完。所以解释程序的执行过程是翻译一句执行一句，并且不会生成目标程序。汇编程序也是一种语言翻译程序，它把汇编语言源程序翻译为机器语言程序。汇编语言是一种面向机器的低级语言，是机器语言的符号表示，与机器语言一一对应。

17. D?×C

    寄存器的设置对汇编语言不透明，汇编程序员要对寄存器进行直接操作。全面代表计算机性能的是实际软件的运行情况。软件和硬件在逻辑上是等效的，但不是等价的。向后兼容指的是时间上向后兼容，即新机器兼容使用以前机器的指令系统。

18. B

19. D×A

    ·数据库系统是指在计算机系统中引入数据库后的系统，一般由数据库、数据库管理系统、应用系统、数据库管理员构成，其中数据库管理系统是系统程序。

20. ?×C

    相联存储器既可以按地址寻址又可以按内容（通常是某些字段）寻址，为与传统存储器区别，又称按内容寻址的存储器。

21. B

22. A

23. C

# 1.2计算机的性能指标

1. 机器字长

   机器字长是指计算机进行一次整数运算（即定点整数运算）所能处理的二进制数据的位数，通常与CPU的寄存器位数、加法器有关。因此，机器字长一般等于内部寄存器的大小，字长越长，数的表示范围越大，计算精度越高。计算机字长通常选定为字节(8位）的整数倍。

2. 数据通路带宽

   数据通路带宽是指数据总线一次所能并行传送信息的位数。这里所说的数据通路宽度是指外部数据总线的宽度，它与CPU内部的数据总线宽度（内部寄存器的大小）有可能不同。

3. 主存容量

   主存容量是指主存储器所能存储信息的最大容量，通常以字节来衡量，也可用字数×字长(如512K×16位）来表示存储容量。其中，MAR 的位数反映存储单元的个数,MAR的位数反映可寻址范围的最大值（而不一定是实际存储器的存储容盘)。

   例如，MAR 为16位，表示216= 65536，即此存储体内有65536个存储单元(可称为64K内存，1K=1024)，若MDR为32位，表示存储容盘为64K×32位。

4. 运算速度

   (1) 吞吐量和响应时间。

   吞吐量。指系统在单位时间内处理请求的数量。它取决于信息能多快地输入内存，CPU 能多快地取指令，数据能多快地从内存取出或存入，以及所得结果能多快地从内存送给一台外部设备。几乎每步都关系到主存，因此系统吞吐量主要取决于主存的存取周期。

   响应时间。指从用户向计算机发送一个请求，到系统对该请求做出响应并获得所需结果的等待时间。通常包括 CPU 时间(运行一个程序所花费的时间)与等待时间(用于磁盘访问、存储器访问、I/O操作、操作系统开销等的时间)。

   (2)主频和 CPU时钟周期。

   CPU时钟周期。通常为节拍脉冲或T周期，即主频的倒数，它是CPU中最小的时间单位，执行指令的每个动作至少需要Ⅰ个时钟周期。

   主频（CPU时钟频率)。机器内部主时钟的频率，是衡量机器速度的重要参数。对于同一个型号的计算机，其主频越高，完成指令的一个执行步骤所用的时间越短，执行指令的速度越快。例如，常用CPU的主频有1.8GHz、2.4GHz、2.8GHz 等。

   注意:CPU时钟周期=1/主频

   (3)CPI (Clock cycle Per Instruction)，即执行一条指令所需的时钟周期数。

   不同指令的时钟周期数可能不同，因此对于一个程序或一台机器来说，其CPI 指该程序或该机器指令集中的所有指令执行所需的平均时钟周期数，此时CPI是一个平均值。

   (4)CPU 执行时间,指运行一个程序所花费的时间。

   CPU执行时间= CPU时钟周期数/主频=(指令条数×CPI)/主频

   上式表明，CPU 的性能（CPU执行时间）取决于三个要素:①主频(时钟频率):②每条指令执行所用的时钟周期数（CPI);③指令条数。

   (5) MIPS (Million Instructions Per Second)，即每秒执行多少百万条指令。

   MIPS=指令条数执行时间×10%)=主频/(CPI×105).

   (6)MFLOPS (Mega Floating-point Operations Per Second)，即每秒执行多少百万次浮点运算。MFLOPS=浮点操作次数(执行时间×106)。

   GFLOPS (Giga Floating-point Operations Per Second)，即每秒执行多少十亿次浮点运算。GFLOPS=浮点操作次数/(执行时间×109).

   TFLOPS (Tera Floating-point Operations Per Second)，即每秒执行多少万亿次浮点运算。TFLOPS=浮点操作次数执行时问×1013)。

## 习题

1. B×D

   ![image-20210607162701656](https://raw.githubusercontent.com/SNIKCHS/MDImage/main/img/20210607162758.png)

2. D

3. D

4. B

5. C

6. C?√

   机器字长、指令字长和存储字长，三者在数值上可以相等也可以不等，视不同机器而定。一个存储单元中的二进制代码的位数称为存储字长。存储字长等于 MDR的位数，而数据字长是数据总线一次能并行传送信息的位数，它可以不等于MDR的位数。

7. B

8. D×C

   MFLOPS 是指每秒执行多少百万次浮点运算，该参数用来描述计算机的浮点运算性能，而用于科学计算的计算机主要评估浮点运算的性能。

9. C

10. A×B

    汇编程序员可以通过指定待执行指令的地址来设置PC的值，状态寄存器、通用寄存器只有为汇编程序员可见，才能实现编程，而R，MAR、MDR是CPU的内部工作寄存器，对程序员均不可见。

11. A

12. B×A

    CPI是执行一条指令所需的时钟周期数，系统结构、指令集、计算机组织都会影响CPI，而时钟频率并不会影响CPI，但可加快指令的执行速度。例如，执行一条指令需要10个时钟周期，则一台主频为IGHz的CPU,执行这条指令要比一台主频为100MHz的CPU快。

13. D？×B

    主频、主存容惫和指令系统（间接影响CPI)并不是综合性能的体现。吞吐率指系统在单位时间内处理请求的数量，是评价计算机系统性能的综合参数。

14. A×D

    提高CPU 主频、扩大主存容量对性能的提升是有限度的。采用并行技术是实现高性能计算的重要途径,现今超级计算机均采用多处理器来增强并行处理能力。

15. D×C

    兼容指计算机软件或硬件的通用性，因此选项A、D错。选项B中，它们在任何计算机间可以通用，错误。选项C中，兼容通常在同一系列的不同型号计算机间，正确。

16. ？×C

    会计电算化属于计算机数据处理方面的应用，I错误。Ⅱ显然正确。计算机“运算速度”指标的含义是每秒能执行多少条指令，Ⅲ错误。这样集成的芯片称为CPU，Ⅳ错误。

17. 1+0.4+1+0.6=3     C

18. A×D

    程序A的运行时间为100s，除去CPU时间90s,剩余10s为IO时间。CPU提速后运行基准程序A所耗费的时间是T=90/1.5+10= 70s.误区:CPU速度提高50%，则CPU时间减少一半，而误选A.

19. 14 D

20. 2/1.5：1/1.2 4:1/0.4      16:1/0.1 C

21. C?×B

    机器字长是指CPU内部用于整数运算的数据通路的宽度。CPU内部数据通路是指CPU 内部的数据流经的路径及路径上的部件，主要是 CPU内部进行数据运算、存储和传送的部件，这些部件的宽度基本上要一致才能相互匹配。因此，机器字长等于CPU内部用于整数运算的运算器位数和通用寄存器宽度。

# 1.4 常见问题和知识点

机器字长、指令字长、存储字长的区别和联系是什么?

机器字长:计算机能直接处理的二进制数据的位数，机器字长一般等于内部寄存器的大小。它决定了计算机的运算精度。

指令字长:一个指令字中包含的二进制代码的位数。

存储字长:一个存储单元存储的二进制代码的长度。

它们都必须是字节的整数倍。

指令字长一般取存储字长的整数倍，若指令字长等于存储字长的2倍，则需要2次访存来取出一条指令，因此取指周期为机器周期的2倍:若指令字长等于存储字长，则取指周期等于机器周期。