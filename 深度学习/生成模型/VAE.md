从模型的角度，VAE就是用encoder学习隐变量Z的分布，假设Z的条件概率是高斯分布的，所以只要学习$\mu和\sigma$，然后用重参数化技巧采样一个标准正态分布的噪声乘以方差加上平均值作为decoder的输入，然后decoder去重建X。损失函数就是重建误差加p(z|x)对于标准正态分布的KL散度。

然后从理论的角度，VAE是一个生成模型，生成模型关心的是输入数据X的分布p(x)，由于P(x)很难直接求解，于是构建一个隐变量模型，假设隐变量Z服从标准正态分布，Z条件下X服从高斯分布。然后采用极大似然估计，最大化log p(x)，此时引入一个分布q(z|x)，能把log p(x)分解成q(z|x)对于p(z|x)的KL散度加上证据下界ELBO，由于KL散度大于0，只需要最大化ELBO，ELBO可以分解为q(z|x)对于p(z)的KL散度的负数加上log(p(x|z))在q(z|x)分布下的期望。第二项就是AutoEncoder的目标函数，第一项就是p(z|x)对于标准正态分布的KL散度